def upload_files(self, event, source_path, target_path):
    url = "http://127.0.0.1:8000/Accounts/upload/"
    files = {
        'sourcefile': open(source_path, 'rb'),
        'targetfile': open(target_path, 'rb')
    }
    
    try:
        response = requests.post(url, files=files)
        
        if response.status_code == 200:
            try:
                message = response.json().get('message', 'No message returned')
            except requests.exceptions.JSONDecodeError:
                message = 'Error: Received invalid JSON response'
        else:
            message = f'Error: Server returned status code {response.status_code}'
            server_response = response.text  # Capture server response for more context
            message += f"\nServer Response: {server_response}"

    except requests.exceptions.RequestException as e:
        message = f'Request failed: {e}'

    wx.MessageBox(message, "Info", wx.OK | wx.ICON_INFORMATION)
